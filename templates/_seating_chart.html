<div class="container-fluid py-3">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3>座位表</h3>
        <div>
            <!-- 將來可以加入 "隨機排列" 或 "儲存佈局" 等按鈕 -->
            <button class="btn btn-secondary btn-sm" disabled>隨機排列 (功能開發中)</button>
        </div>
    </div>

    <div id="seating-chart-container" class="row g-2">
        {% for student in students %}
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 student-card-wrapper" data-student-id="{{ student['id'] }}">
            <div class="card h-100 text-center student-card">
                <div class="card-body d-flex flex-column justify-content-center">
                    <img src="{{ url_for('static', filename='photos/' + student['student_id'] + '.jpg') }}" 
                         alt="{{ student['name'] }}"
                         class="student-photo mx-auto mb-2"
                         onerror="this.src='https://placehold.co/100x100/EFEFEF/AAAAAA?text={{ student['name'][0] }}'; this.onerror=null;">
                    <div class="student-name">{{ student['name'] }}</div>
                    <div class="student-id text-muted small">{{ student['student_id'] }}</div>
                    <div class="student-account text-muted small fst-italic">{{ student['account'] }}</div>
                </div>
            </div>
        </div>
        {% else %}
        <p>此班級沒有學生資料。</p>
        {% endfor %}
    </div>
    <p class="text-muted mt-3 small">提示：您可以直接用滑鼠拖曳學生的卡片來調整座位順序。</p>
</div>

