{% extends "layout.html" %}

{% block title %}{{ class_name }} - 班級主控台{% endblock %}

{% block content %}
<h1 class="mb-4">{{ class_name }} - 班級主控台</h1>

<!-- 功能分頁標籤 -->
<ul class="nav nav-tabs" id="classTab" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="seating-tab" data-bs-toggle="tab" data-bs-target="#seating-pane" type="button" role="tab" aria-controls="seating-pane" aria-selected="true">座位表</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="grades-tab" data-bs-toggle="tab" data-bs-target="#grades-pane" type="button" role="tab" aria-controls="grades-pane" aria-selected="false">成績管理</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="attendance-tab" data-bs-toggle="tab" data-bs-target="#attendance-pane" type="button" role="tab" aria-controls="attendance-pane" aria-selected="false">點名與日常表現</button>
    </li>
     <li class="nav-item" role="presentation">
        <button class="nav-link" id="reports-tab" data-bs-toggle="tab" data-bs-target="#reports-pane" type="button" role="tab" aria-controls="reports-pane" aria-selected="false">報表匯出</button>
    </li>
</ul>

<!-- 分頁內容 -->
<div class="tab-content" id="classTabContent">
    <!-- 座位表分頁 -->
    <div class="tab-pane fade show active" id="seating-pane" role="tabpanel" aria-labelledby="seating-tab" tabindex="0">
        {% include '_seating_chart.html' %}
    </div>
    <!-- 成績管理分頁 -->
    <div class="tab-pane fade" id="grades-pane" role="tabpanel" aria-labelledby="grades-tab" tabindex="0">
        {% include '_grade_entry.html' %}
    </div>
    <!-- 點名與日常表現分頁 -->
    <div class="tab-pane fade" id="attendance-pane" role="tabpanel" aria-labelledby="attendance-tab" tabindex="0">
        {% include '_attendance.html' %}
    </div>
     <!-- 報表匯出分頁 -->
    <div class="tab-pane fade" id="reports-pane" role="tabpanel" aria-labelledby="reports-tab" tabindex="0">
        {% include 'reports.html' %}
    </div>
</div>
{% endblock %}


{% block scripts %}
<!-- SortableJS library for drag-and-drop -->
<script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
<!-- Custom JS for seating chart -->
<script src="{{ url_for('static', filename='js/seating_chart.js') }}"></script>
<script src="{{ url_for('static', filename='js/grade_calculator.js') }}"></script>
{% endblock %}
